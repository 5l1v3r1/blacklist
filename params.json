{
  "name": "Blacklist",
  "tagline": "Blacklist and Adware Blocking for the Ubiquiti EdgeMax Router",
  "body": "\r\n# blacklist\r\n\r\n© 2016 NJ Software. All rights reserved. Use of this source code is governed by a BSD-style license that can be found in the LICENSE.txt file.\r\n\r\n[UBNT EdgeMax](<a href=\"https://community.ubnt.com/t5/EdgeMAX/bd-p/EdgeMAX\">https://community.ubnt.com/t5/EdgeMAX/bd-p/EdgeMAX</a>) dnsmasq Blacklist and Adware Blocking\r\n\r\nNOTE: THIS IS NOT OFFICIAL UBIQUITI SOFTWARE AND THEREFORE NOT SUPPORTED OR ENDORSED BY Ubiquiti Networks®\r\n\r\n[![License](https://img.shields.io/badge/license-BSD-blue.svg)](https://github.com/britannic/blacklist/blob/master/LICENSE.txt) [![Alpha  Version](https://img.shields.io/badge/version-v0.03--alpha-red.svg)](https://github.com/britannic/blacklist) [![GoDoc](https://godoc.org/github.com/britannic/blacklist?status.svg)](https://godoc.org/github.com/britannic/blacklist) [![Build Status](https://travis-ci.org/britannic/blacklist.svg?branch=master)](https://travis-ci.org/britannic/blacklist) [![Coverage Status](https://coveralls.io/repos/github/britannic/blacklist/badge.svg?branch=master)](https://coveralls.io/github/britannic/blacklist?branch=master) [![Go Report Card](https://goreportcard.com/badge/gojp/goreportcard)](https://goreportcard.com/report/github.com/britannic/blacklist)\r\n\r\n### Overview\r\nEdgeMax dnsmasq Blacklist and Adware Blocking is derived from the received wisdom found at [Ubiquiti Community](<a href=\"https://community.ubnt.com/t5/EdgeMAX/bd-p/EdgeMAX\">https://community.ubnt.com/t5/EdgeMAX/bd-p/EdgeMAX</a>)\r\n\r\n### Features\r\nGenerates configuration files used directly by dnsmasq to redirect DNS lookups\r\nIntegrated with the EdgeMax OS CLI\r\n\r\n### Any FQDN in the blacklist will force dnsmasq to return the configured DNS redirect IP address\r\nCompatibility\r\n\r\nblacklist has been tested on the EdgeRouter Lite family of routers, versions v1.6.0-v1.8.0.\r\n\r\nThe script will also install a default blacklist setup, here is the stanza (show service dns forwarding):\r\n\r\n\r\n\tblacklist {\r\n\t    disabled false\r\n\t    dns-redirect-ip 0.0.0.0\r\n\t    domains {\r\n\t        exclude adobedtm.com\r\n\t        exclude apple.com\r\n\t        exclude coremetrics.com\r\n\t        exclude doubleclick.net\r\n\t        exclude google.com\r\n\t        exclude googleadservices.com\r\n\t        exclude googleapis.com\r\n\t        exclude hulu.com\r\n\t        exclude msdn.com\r\n\t        exclude paypal.com\r\n\t        exclude storage.googleapis.com\r\n\t        include adsrvr.org\r\n\t        include adtechus.net\r\n\t        include advertising.com\r\n\t        include centade.com\r\n\t        include doubleclick.net\r\n\t        include free-counter.co.uk\r\n\t        include kiosked.com\r\n\t        source malc0de.com {\r\n\t            description \"List of zones serving malicious executables observed by malc0de.com/database/\"\r\n\t            prefix \"zone \"\r\n\t            url <a href=\"http://malc0de.com/bl/ZONES\">http://malc0de.com/bl/ZONES</a>\r\n\t        }\r\n\t    }\r\n\t    hosts {\r\n\t        exclude appleglobal.112.2o7.net\r\n\t        exclude autolinkmaker.itunes.apple.com\r\n\t        exclude cdn.visiblemeasures.com\r\n\t        exclude freedns.afraid.org\r\n\t        exclude hb.disney.go.com\r\n\t        exclude static.chartbeat.com\r\n\t        exclude survey.112.2o7.net\r\n\t        exclude ads.hulu.com\r\n\t        exclude ads-a-darwin.hulu.com\r\n\t        exclude ads-v-darwin.hulu.com\r\n\t        exclude track.hulu.com\r\n\t        include beap.gemini.yahoo.com\r\n\t        source openphish.com {\r\n\t            description \"OpenPhish automatic phishing detection\"\r\n\t            prefix http\r\n\t            url <a href=\"https://openphish.com/feed.txt\">https://openphish.com/feed.txt</a>\r\n\t        }\r\n\t        source someonewhocares.org {\r\n\t            description \"Zero based host and domain list\"\r\n\t            prefix 0.0.0.0\r\n\t            url <a href=\"http://someonewhocares.org/hosts/zero/\">http://someonewhocares.org/hosts/zero/</a>\r\n\t        }\r\n\t        source volkerschatz.com {\r\n\t            description \"Ad server blacklists\"\r\n\t            prefix http\r\n\t            url <a href=\"http://www.volkerschatz.com/net/adpaths\">http://www.volkerschatz.com/net/adpaths</a>\r\n\t        }\r\n\t        source winhelp2002.mvps.org {\r\n\t            description \"Zero based host and domain list\"\r\n\t            prefix \"0.0.0.0 \"\r\n\t            url <a href=\"http://winhelp2002.mvps.org/hosts.txt\">http://winhelp2002.mvps.org/hosts.txt</a>\r\n\t        }\r\n\t        source www.malwaredomainlist.com {\r\n\t            description \"127.0.0.1 based host and domain list\"\r\n\t            prefix \"127.0.0.1 \"\r\n\t            url <a href=\"http://www.malwaredomainlist.com/hostslist/hosts.txt\">http://www.malwaredomainlist.com/hostslist/hosts.txt</a>\r\n\t        }\r\n\t        source yoyo.org {\r\n\t            description \"Fully Qualified Domain Names only - no prefix to strip\"\r\n\t            prefix \"\"\r\n\t            url <a href=\"http://pgl.yoyo.org/as/serverlist.php?hostformat=nohtml&amp;showintro=1&amp;mimetype=plaintext\">http://pgl.yoyo.org/as/serverlist.php?hostformat=nohtml&showintro=1&mimetype=plaintext</a>\r\n\t        }\r\n\t    }\r\n\t}\r\n\r\nCLI commands to configure blacklist:\r\n\r\n\r\n\tdelete service dns forwarding blacklist\r\n\tdelete system task-scheduler task update_blacklists\r\n\tset service dns forwarding blacklist dns-redirect-ip 0.0.0.0\r\n\tset service dns forwarding blacklist disabled false\r\n\t# set service dns forwarding blacklist dns-redirect-ip 192.168.168.1\r\n\tset service dns forwarding blacklist domains include adsrvr.org\r\n\tset service dns forwarding blacklist domains include adtechus.net\r\n\tset service dns forwarding blacklist domains include advertising.com\r\n\tset service dns forwarding blacklist domains include centade.com\r\n\tset service dns forwarding blacklist domains include doubleclick.net\r\n\tset service dns forwarding blacklist domains include free-counter.co.uk\r\n\tset service dns forwarding blacklist domains include intellitxt.com\r\n\tset service dns forwarding blacklist domains include kiosked.com\r\n\tset service dns forwarding blacklist domains include patoghee.in\r\n\tset service dns forwarding blacklist domains source malc0de description 'List of zones serving malicious executables observed by malc0de.com/database/'\r\n\tset service dns forwarding blacklist domains source malc0de prefix 'zone '\r\n\tset service dns forwarding blacklist domains source malc0de url '<a href=\"http://malc0de.com/bl/ZONES\">http://malc0de.com/bl/ZONES</a>'\r\n\tset service dns forwarding blacklist exclude 122.2o7.net\r\n\tset service dns forwarding blacklist exclude 1e100.net\r\n\tset service dns forwarding blacklist exclude adobedtm.com\r\n\tset service dns forwarding blacklist exclude akamai.net\r\n\tset service dns forwarding blacklist exclude akamaihd.net\r\n\tset service dns forwarding blacklist exclude amazon.com\r\n\tset service dns forwarding blacklist exclude amazonaws.com\r\n\tset service dns forwarding blacklist exclude apple.com\r\n\tset service dns forwarding blacklist exclude ask.com\r\n\tset service dns forwarding blacklist exclude avast.com\r\n\tset service dns forwarding blacklist exclude bitdefender.com\r\n\tset service dns forwarding blacklist exclude cdn.visiblemeasures.com\r\n\tset service dns forwarding blacklist exclude cloudfront.net\r\n\tset service dns forwarding blacklist exclude coremetrics.com\r\n\tset service dns forwarding blacklist exclude edgesuite.net\r\n\tset service dns forwarding blacklist exclude freedns.afraid.org\r\n\tset service dns forwarding blacklist exclude github.com\r\n\tset service dns forwarding blacklist exclude githubusercontent.com\r\n\tset service dns forwarding blacklist exclude google.com\r\n\tset service dns forwarding blacklist exclude googleadservices.com\r\n\tset service dns forwarding blacklist exclude googleapis.com\r\n\tset service dns forwarding blacklist exclude googleusercontent.com\r\n\tset service dns forwarding blacklist exclude gstatic.com\r\n\tset service dns forwarding blacklist exclude gvt1.com\r\n\tset service dns forwarding blacklist exclude gvt1.net\r\n\tset service dns forwarding blacklist exclude hb.disney.go.com\r\n\tset service dns forwarding blacklist exclude hp.com\r\n\tset service dns forwarding blacklist exclude hulu.com\r\n\tset service dns forwarding blacklist exclude images-amazon.com\r\n\tset service dns forwarding blacklist exclude live.com\r\n\tset service dns forwarding blacklist exclude microsoft.com\r\n\tset service dns forwarding blacklist exclude msdn.com\r\n\tset service dns forwarding blacklist exclude paypal.com\r\n\tset service dns forwarding blacklist exclude rackcdn.com\r\n\tset service dns forwarding blacklist exclude schema.org\r\n\tset service dns forwarding blacklist exclude shopify.com\r\n\tset service dns forwarding blacklist exclude skype.com\r\n\tset service dns forwarding blacklist exclude smacargo.com\r\n\tset service dns forwarding blacklist exclude sourceforge.net\r\n\tset service dns forwarding blacklist exclude ssl-on9.com\r\n\tset service dns forwarding blacklist exclude ssl-on9.net\r\n\tset service dns forwarding blacklist exclude sstatic.net\r\n\tset service dns forwarding blacklist exclude static.chartbeat.com\r\n\tset service dns forwarding blacklist exclude storage.googleapis.com\r\n\tset service dns forwarding blacklist exclude windows.net\r\n\tset service dns forwarding blacklist exclude yimg.com\r\n\tset service dns forwarding blacklist exclude ytimg.com\r\n\tset service dns forwarding blacklist hosts include beap.gemini.yahoo.com\r\n\tset service dns forwarding blacklist hosts source adaway description 'Blocking mobile ad providers and some analytics providers'\r\n\tset service dns forwarding blacklist hosts source adaway prefix '127.0.0.1 '\r\n\tset service dns forwarding blacklist hosts source adaway url '<a href=\"http://adaway.org/hosts.txt\">http://adaway.org/hosts.txt</a>'\r\n\t# set service dns forwarding blacklist hosts source hpHosts description 'Ad and Tracking servers only'\r\n\t# set service dns forwarding blacklist hosts source hpHosts prefix 127.0.0.1\r\n\t# set service dns forwarding blacklist hosts source hpHosts url '<a href=\"http://hosts-file.net/ad_servers.txt\">http://hosts-file.net/ad_servers.txt</a>'\r\n\tset service dns forwarding blacklist hosts source malwaredomainlist description '127.0.0.1 based host and domain list'\r\n\tset service dns forwarding blacklist hosts source malwaredomainlist prefix '127.0.0.1 '\r\n\tset service dns forwarding blacklist hosts source malwaredomainlist url '<a href=\"http://www.malwaredomainlist.com/hostslist/hosts.txt\">http://www.malwaredomainlist.com/hostslist/hosts.txt</a>'\r\n\tset service dns forwarding blacklist hosts source openphish description 'OpenPhish automatic phishing detection'\r\n\tset service dns forwarding blacklist hosts source openphish prefix http\r\n\tset service dns forwarding blacklist hosts source openphish url '<a href=\"https://openphish.com/feed.txt\">https://openphish.com/feed.txt</a>'\r\n\tset service dns forwarding blacklist hosts source someonewhocares description 'Zero based host and domain list'\r\n\tset service dns forwarding blacklist hosts source someonewhocares prefix 0.0.0.0\r\n\tset service dns forwarding blacklist hosts source someonewhocares url '<a href=\"http://someonewhocares.org/hosts/zero/\">http://someonewhocares.org/hosts/zero/</a>'\r\n\tset service dns forwarding blacklist hosts source volkerschatz description 'Ad server blacklists'\r\n\tset service dns forwarding blacklist hosts source volkerschatz prefix http\r\n\tset service dns forwarding blacklist hosts source volkerschatz url '<a href=\"http://www.volkerschatz.com/net/adpaths\">http://www.volkerschatz.com/net/adpaths</a>'\r\n\tset service dns forwarding blacklist hosts source winhelp2002 description 'Zero based host and domain list'\r\n\tset service dns forwarding blacklist hosts source winhelp2002 prefix '0.0.0.0 '\r\n\tset service dns forwarding blacklist hosts source winhelp2002 url '<a href=\"http://winhelp2002.mvps.org/hosts.txt\">http://winhelp2002.mvps.org/hosts.txt</a>'\r\n\tset service dns forwarding blacklist hosts source yoyo description 'Fully Qualified Domain Names only - no prefix to strip'\r\n\tset service dns forwarding blacklist hosts source yoyo prefix ''\r\n\tset service dns forwarding blacklist hosts source yoyo url '<a href=\"http://pgl.yoyo.org/as/serverlist.php?hostformat=nohtml&amp;showintro=1&amp;mimetype=plaintext\">http://pgl.yoyo.org/as/serverlist.php?hostformat=nohtml&showintro=1&mimetype=plaintext</a>'\r\n\tset system task-scheduler task update_blacklists executable path /config/scripts/update-dnsmasq.pl\r\n\tset system task-scheduler task update_blacklists interval 1d\r\n\r\nNotes:\r\n\r\nIn order to make this work properly, you will need to first ensure that your dnsmasq is correctly set up. An example configuration is posted below:\r\n\r\n\r\n\tshow service dns forwarding\r\n\t cache-size 2048\r\n\t listen-on eth0\r\n\t listen-on eth2\r\n\t listen-on lo\r\n\t name-server 208.67.220.220\r\n\t name-server 208.67.222.222\r\n\t name-server 2620:0:ccc::2\r\n\t name-server 2620:0:ccd::2\r\n\t options expand-hosts\r\n\t options bogus-priv\r\n\t options localise-queries\r\n\t options domain=ubnt.home\r\n\t options strict-order\r\n\t options listen-address=127.0.0.1\r\n\t system\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n- - -\r\nGenerated by [godoc2md](http://godoc.org/github.com/davecheney/godoc2md)",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}